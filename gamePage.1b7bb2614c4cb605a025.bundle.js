(()=>{"use strict";var e={p:"/axiopazz/"};document.querySelector("#score");let t;const n=30;t&&(n=t.textContent);const r=e.p+"assets/barbecue.webp",o=e.p+"assets/circus.webp",i=e.p+"assets/forest.webp",a=e.p+"assets/home.webp",s=(e.p,e.p,e.p,e.p,e.p,e.p+"assets/more1-d.webp"),c=e.p+"assets/more2-d.webp",p=e.p+"assets/more3-d.webp",d=e.p+"assets/more4-d.webp",u=e.p+"assets/more5-d.webp",l=e.p+"assets/more6-d.webp";e.p;let f=[],h=null;const m=()=>{const e=window.location.pathname,t="/axiopazz/",n=e.startsWith(t)?e.substring(10):e,r=""===n?"/":"/"+n,o=f.find((e=>e.path===r));if(o)o.render&&h?(o.render(),document.title=o.title||"Ваше приложение"):h&&(document.title="Router Error");else{const e="/404";if(f.find((t=>t.path===e))){const n=t+("/"===e?"":e.substring(1));return history.replaceState({},"",n),void m()}document.title="Fatal Router Error"}};window.onpopstate=m;const x=(e,t)=>{h=e,f=[],Object.values(t).forEach((e=>{if(e&&e.path&&e.render&&"function"==typeof e.render){const t=e.path.startsWith("/")?e.path:"/"+e.path,n=e.title||"GamePage";f.push({path:t,title:n,render:e.render})}})),m()};const b=document.getElementById("app");function g(e){if(!b||!e||"string"!=typeof e)return;const t=document.createElement("a");let n="/axiopazz/"+e;t.setAttribute("href",n),t.textContent=`open ${e}`,b.appendChild(t)}function w(){b&&(b.style.cssText="\n  min-width: 320px;\n  min-height: 320px;\n  border: 1px solid green;\n  color: black;\n  background: transparent;\n  font-size: 32px;",b.textContent="function func1() - очистка контейнера appContainer",g("func2"),g("func3"),g("func4"))}"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/axiopazz/service-worker.js").then((e=>{})).catch((e=>{}))}));const y={renderGame:{path:"/",title:"Game Menu",render:w},renderFunc1:{path:"/func1",title:"Game Menu",render:w},renderGameFile:{path:"/game.html",title:"Game Menu",render:w},renderGameFileSlash:{path:"/game.html/",title:"Game Menu",render:w},renderFunc2:{path:"/func2",title:"Game=func2",render:function(){b&&(b.style.cssText="\n  min-width: 320px;\n  min-height: 320px;\n  border: 2px solid #777;\n  color: #777;\n  background: blue;\n  font-size: 24px;",b.textContent="function func2()",b.querySelectorAll("a").forEach((e=>e.remove())),g(""),g("func1"))}},renderFunc3:{path:"/func3",title:"Game=func3",render:function(){b&&(b.style.cssText="\n  min-width: 320px;\n  min-height: 320px;\n  border: 2px solid green;\n  color: green;\n  background: black;\n  font-size: 24px;",b.textContent="function func3()",b.querySelectorAll("a").forEach((e=>e.remove())),g(""),g("func1"))}},renderFunc4:{path:"/func4",title:"Game=func4",render:function(){b&&(b.style.cssText="\n  min-width: 320px;\n  min-height: 320px;\n  border: 2px solid #fff;\n  color: #fff;\n  background: #AAA;\n  font-size: 24px;",b.textContent="function func4()",b.querySelectorAll("a").forEach((e=>e.remove())),g(""),g("func1"))}},render404:{path:"/404",title:"Page 404",render:function(){b&&(b.style.cssText="\n  min-width: 320px;\n  min-height: 320px;\n  border: 2px solid red;\n  color: #fff;\n  background: red;\n  font-size: 24px;",b.textContent="function func4()",b.querySelectorAll("a").forEach((e=>e.remove())),g(""))}}};window.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("app");e&&(x(e,y),document.body.addEventListener("click",(e=>{const t=e.target.closest("a");if(t&&t.href&&t.origin===window.location.origin&&!t.hasAttribute("download")&&"_blank"!==t.target){const n=t.href.replace(window.location.origin,"");(e=>{const t="/axiopazz/",n=e.startsWith(t)?e.substring(10):fullPath,r=""===n?"/":"/"+n;if(f.some((e=>e.path===r))){const e=t+("/"===r?"":r.substring(1));return history.pushState({},"",e),m(),!0}return!1})(""===n?"/":n)&&e.preventDefault()}})))}))})();